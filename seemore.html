<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blog Post | UNITEX HUB</title>

<meta name="description" content="UNITEX HUB is a digital learning and innovation platform providing university CBT exam preparation tools and resources for learners in Nigeria. It empowers students and creators with the support, tools, and guidance they need to excel in exams such as JAMB and other university CBT assessments.">
<meta name="keywords" content="UNITEX HUB offers powerful academic performance tools from University CBT, including CGPA and GPA calculators, semester GPA trackers, and comprehensive CGPA analysis. Designed for students, these tools help you monitor and optimize your academic progress throughout university. Developed by Emmanuel Etim, UNITEX HUB empowers learners with practical education tools to track and improve their GPA, plan their semesters, and achieve academic success.">
<meta name="robots" content="index, follow">
<meta name="author" content="UNITEX HUB">

<!--FAVICON-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css">
<link rel="apple-touch-icon" sizes="180x180" href="http://localhost/hub/frontend/favicon_io/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost/hub/frontend/favicon_io/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost/hub/frontend/favicon_io/favicon-16x16.png">
<link rel="manifest" href="http://localhost/hub/frontend/favicon_io/site.webmanifest">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="">
<meta property="og:image" content="http://localhost/hub/frontend/assets/unitex.png">

<!-- Twitter (X) -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="">
<meta name="twitter:image" content="http://localhost/hub/frontend/assets/im.png">
   <meta name="msvalidate.01" content="7CFE9C31DF8FDE2D5E752F310DC6AA54" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

<style>
:root {
  --bg:#fff; --text:#111; --muted:#666; --card:#fff;
  --border:#e5e5e5; --accent:#007bff;
}
body.dark {
  --bg:#0f172a; --text:#e5e7eb; --muted:#9ca3af;
  --card:#1e293b; --border:#334155; --accent:#38bdf8;
}
body { background: var(--bg); color: var(--text); font-family: 'Poppins', sans-serif; margin:0; padding:0; transition:0.3s; }
.container { max-width:800px; margin:40px auto; padding:0 15px; }
.blog-header h2 { font-size:1.5rem; font-weight:700; margin-bottom:5px; }
.meta { font-size:.85rem; color: var(--muted); margin-bottom:20px; }
.blog-image { width:100%; max-height:400px; object-fit:cover; border-radius:8px; margin-bottom:20px; }
.blog-image-center { display:block; margin:18px auto; max-width:60%; width:100%; height:auto; object-fit:cover; border-radius:8px; box-shadow:0 6px 18px rgba(0,0,0,0.08); }
.blog-content { font-size:.95rem; line-height:1.7; text-align:justify; }
.ad-card { background: var(--card); border:1px solid var(--border); border-radius:12px; margin:30px 0; overflow:hidden; box-shadow:0 8px 25px rgba(0,0,0,.06); }
.ad-card img { width:100%; height:160px; object-fit:cover; }
.ad-body { padding:15px; text-align:center; }
.ad-body h6 { font-weight:700; margin-bottom:5px; }
.ad-body p { font-size:.85rem; color: var(--muted); }
.ad-btn { display:inline-block; margin-top:8px; padding:6px 18px; border-radius:20px; background: var(--accent); color:#fff; font-size:.8rem; font-weight:600; text-decoration:none; }

.recent-section { margin-top:50px; border-top:1px solid var(--border); padding-top:25px; }
.recent-post { display:flex; gap:12px; margin-bottom:16px; }
.recent-post img { width:80px; height:60px; object-fit:cover; border-radius:6px; }
.recent-post a { font-size:.85rem; text-decoration:none; color:var(--accent); }
.recent-post a:hover { text-decoration:underline; }

.theme-toggle { position:fixed; top:15px; right:15px; background:var(--card); border:1px solid var(--border); border-radius:20px; padding:6px 14px; cursor:pointer; font-size:.8rem; z-index:1000; }

.floating-share { position:fixed; top:40%; left:10px; display:flex; flex-direction:column; gap:10px; z-index:9999; }
.floating-share a { display:flex; align-items:center; justify-content:center; width:44px; height:44px; border-radius:50%; color:#fff; font-size:1.3rem; text-decoration:none; transition:transform .2s; }
.floating-share a:hover { transform: scale(1.2); }
.floating-share .facebook { background:#3b5998; }
.floating-share .twitter { background:#1da1f2; }
.floating-share .whatsapp { background:#25d366; }
.floating-share .telegram { background:#0088cc; }
.floating-share .copy { background:#6c757d; }
</style>
</head>
<body>

<div class="theme-toggle" onclick="toggleTheme()"><i class="bi bi-moon-stars"></i> Theme</div>

<div class="container" id="post-container"></div>
<div id="error" class="text-danger text-center"></div>

<div class="floating-share" id="floating-share" style="display:none;">
  <a href="" id="share-facebook" target="_blank"><i class="bi bi-facebook"></i></a>
  <a href="#" id="share-twitter" target="_blank"><i class="bi bi-twitter"></i></a>
  <a href="#" id="share-whatsapp" target="_blank"><i class="bi bi-whatsapp"></i></a>
  <a href="#" id="share-telegram" target="_blank"><i class="bi bi-telegram"></i></a>
  <a href="#" id="share-copy" title="Copy share text"><i class="bi bi-clipboard"></i></a>
</div>

<script>
const themeToggle = document.querySelector('.theme-toggle');
function toggleTheme() {
  document.body.classList.toggle('dark');
  localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
}
document.body.classList.toggle('dark', localStorage.getItem('theme')==='dark');

// Fetch and render post
const params = new URLSearchParams(window.location.search);
const postId = params.get('id');
if(!postId){ document.getElementById('error').innerText='No post specified.'; }

const imageBase = '/hub/api/post/uploads/';

// Helpers for building share text
function stripHtml(html){ const d = document.createElement('div'); d.innerHTML = html; return (d.textContent || d.innerText || '').trim(); }
function truncate(text, n=140){ if(!text) return ''; return text.length>n ? text.slice(0,n-1)+'…' : text; }
// Create URL-friendly slug from title
function slugify(text){ if(!text) return ''; return text.toString().toLowerCase().replace(/\s+/g,'-').replace(/[^a-z0-9\-]/g,'').replace(/\-+/g,'-').replace(/^\-+|\-+$/g,'').slice(0,80); }
fetch('/hub/api/post/get_posts.php')
.then(res => res.json())
.then(posts => {
  const allPosts = posts || [];

  function renderPost(id, pushState = true){
    const post = allPosts.find(p => String(p.id) === String(id));
    if(!post){ document.getElementById('error').innerText='Post not found.'; return; }

    const container = document.getElementById('post-container');
    container.innerHTML = `
      <div class="blog-header">
        <h2>${post.title}</h2>
        <div class="meta"><i class="bi bi-calendar"></i> ${new Date(post.created_at).toLocaleDateString()}</div>
      </div>

      <div class="ad-card">
        <img src="/hub/frontend/assets/uni.png">
        <div class="ad-body">
          <h6>Practice CBT Questions</h6>
          <p>Real exam questions with instant results.</p>
          <a href="practice.html" class="ad-btn">Start Now</a>
        </div>
      </div>

      <img src="${imageBase + post.image1}" class="blog-image">
      <div class="blog-content">${post.message}</div>

      <div class="ad-card">
        <img src="/hub/frontend/assets/uni.png">
        <div class="ad-body">
          <h6>Need Assignment Help?</h6>
          <p>Fast, accurate academic assistance.</p>
          <a href="dashboard.html" class="ad-btn">Get Help</a>
        </div>
      </div>

      <a href="#" id="backToList" class="text-decoration-none text-secondary mb-4 d-block">← Back to Blog</a>

      <div class="recent-section" id="recent-posts">
        <h5 class="fw-bold mb-3">More From Our Blog</h5>
      </div>
    `;

    // If there's a second image, insert it inside the content (after first paragraph if present)
    if(post.image2){
      const contentEl = container.querySelector('.blog-content');
      if(contentEl){
        const img = document.createElement('img');
        img.src = imageBase + post.image2;
        img.className = 'blog-image-center';
        img.alt = `${post.title} image 2`;

        // Insert after paragraph 5 (index 4) if present; else after last paragraph; else at top
        const paragraphs = contentEl.querySelectorAll('p');
        if(paragraphs.length >= 5){
          const after = paragraphs[4];
          if(after && after.parentNode) after.parentNode.insertBefore(img, after.nextSibling);
          else contentEl.insertBefore(img, contentEl.firstChild);
        } else if(paragraphs.length > 0){
          const last = paragraphs[paragraphs.length - 1];
          if(last && last.parentNode) last.parentNode.insertBefore(img, last.nextSibling);
          else contentEl.insertBefore(img, contentEl.firstChild);
        } else {
          contentEl.insertBefore(img, contentEl.firstChild);
        }
        // use lazy loading for the inserted image
        img.loading = 'lazy';
      }

    }

    

    // update floating share links with title + excerpt and include slug in URL
    const slug = slugify(post.title || post.slug);
    const url = window.location.origin + window.location.pathname + '?slug=' + encodeURIComponent(slug) + '&id=' + encodeURIComponent(post.id);
    const excerpt = truncate(stripHtml(post.message), 140);
    const metaDesc = truncate(stripHtml(post.message), 200);
    // update page title and meta tags for better SEO previews
    try{
      document.title = `${post.title} | UNITEX HUB`;
      function setMeta(name, content, isProperty=false){
        const selector = isProperty ? `meta[property="${name}"]` : `meta[name="${name}"]`;
        let m = document.querySelector(selector);
        if(m) m.setAttribute('content', content);
        else { m = document.createElement('meta'); if(isProperty) m.setAttribute('property', name); else m.setAttribute('name', name); m.setAttribute('content', content); document.head.appendChild(m); }
      }
      setMeta('description', metaDesc, false);
      setMeta('og:title', post.title, true);
      setMeta('og:description', metaDesc, true);
      setMeta('og:image', window.location.origin + imageBase + (post.image1 || ''), true);
      setMeta('og:url', url, true);
      setMeta('twitter:title', post.title, false);
      setMeta('twitter:description', metaDesc, false);
      setMeta('twitter:image', window.location.origin + imageBase + (post.image1 || ''), false);
      // canonical link
      let can = document.querySelector('link[rel="canonical"]'); if(!can){ can = document.createElement('link'); can.rel='canonical'; document.head.appendChild(can); } can.href = url;
    }catch(e){ console.warn('meta update failed', e); }
    const shareText = `${post.title} — ${excerpt}`;
    const urlWithMsg = url + '&msg=' + encodeURIComponent(excerpt);
    document.getElementById('floating-share').style.display='flex';
    // set anchor hrefs (useful fallback and for copy/paste)
    document.getElementById('share-facebook').href = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(shareText)}`;
    document.getElementById('share-twitter').href  = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(url)}`;
    document.getElementById('share-whatsapp').href = `https://wa.me/?text=${encodeURIComponent(shareText + ' ' + url)}`;
    document.getElementById('share-telegram').href = `https://t.me/share/url?url=${encodeURIComponent(url)}&text=${encodeURIComponent(shareText)}`;

    // Add JSON-LD for the article to improve search result display
    try{
      const ld = {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": { "@type": "WebPage", "@id": url },
        "headline": post.title,
        "image": [ window.location.origin + imageBase + (post.image1 || '') ],
        "datePublished": post.created_at || undefined,
        "dateModified": post.updated_at || post.created_at || undefined,
        "author": { "@type": "Person", "name": post.author || 'UNITEX HUB' },
        "publisher": { "@type": "Organization", "name": "UNITEX HUB", "logo": { "@type": "ImageObject", "url": window.location.origin + '/hub/frontend/assets/unitex.png' } },
        "description": metaDesc
      };
      const prev = document.getElementById('ld-article'); if(prev) prev.remove();
      const s = document.createElement('script'); s.type = 'application/ld+json'; s.id = 'ld-article'; s.text = JSON.stringify(ld); document.head.appendChild(s);
    }catch(e){ console.warn('add ld failed', e); }

    // Try Web Share API first, else open provider link
    function tryNativeShare(){
      if(navigator.share){ return navigator.share({ title: post.title, text: excerpt, url }); }
      return Promise.reject(new Error('Web Share API not available'));
    }

    // Replace click handlers (use onclick so it replaces previous handler)
    document.getElementById('share-facebook').onclick = function(e){ e.preventDefault(); tryNativeShare().catch(()=>{ window.open(this.href, '_blank', 'noopener'); }); };
    document.getElementById('share-twitter').onclick  = function(e){ e.preventDefault(); tryNativeShare().catch(()=>{ window.open(this.href, '_blank', 'noopener'); }); };
    document.getElementById('share-whatsapp').onclick = function(e){ e.preventDefault(); tryNativeShare().catch(()=>{ window.open(this.href, '_blank', 'noopener'); }); };
    document.getElementById('share-telegram').onclick = function(e){ e.preventDefault(); tryNativeShare().catch(()=>{ window.open(this.href, '_blank', 'noopener'); }); };
    // copy/share button: try navigator.share with url including msg, else copy to clipboard
    const copyBtn = document.getElementById('share-copy');
    copyBtn.onclick = function(e){
      e.preventDefault();
      if(navigator.share){
        navigator.share({ title: post.title, text: excerpt, url: urlWithMsg }).catch(()=>{ /* fallback below */ });
      }
      const toCopy = `${post.title} — ${excerpt}\n${urlWithMsg}`;
      if(navigator.clipboard && navigator.clipboard.writeText){
        navigator.clipboard.writeText(toCopy).then(()=> showShareToast('Copied to clipboard')).catch(()=> fallbackPrompt(toCopy));
      } else {
        fallbackPrompt(toCopy);
      }
    };

    function fallbackPrompt(text){
      try{ window.prompt('Copy the share text below:', text); }catch(e){ console.warn('copy fallback failed', e); }
    }

    function showShareToast(msg){
      const t = document.createElement('div');
      t.className = 'share-toast';
      t.style.position = 'fixed';
      t.style.right = '20px';
      t.style.top = '20px';
      t.style.background = 'rgba(0,0,0,0.8)';
      t.style.color = '#fff';
      t.style.padding = '10px 14px';
      t.style.borderRadius = '8px';
      t.style.zIndex = '99999';
      t.style.fontSize = '0.9rem';
      t.textContent = msg;
      document.body.appendChild(t);
      setTimeout(()=>{ t.style.transition='opacity .3s'; t.style.opacity='0'; setTimeout(()=>t.remove(), 300); }, 1600);
    }

    // populate recent posts and attach click handlers to load in-place
    const recentContainer = document.getElementById('recent-posts');
    recentContainer.innerHTML = '';
    const recentPosts = allPosts.filter(p=>String(p.id)!==String(post.id)).slice(0,5);
    if(recentPosts.length){
      recentPosts.forEach(r=>{
        const item = document.createElement('div');
        item.className = 'recent-post';
        item.innerHTML = `
          <img src="${imageBase + r.image1}" alt="Recent Post">
          <div>
            <strong>${r.title}</strong><br>
            <a href="#" class="recent-link" data-id="${r.id}">Read More</a>
          </div>
        `;
        recentContainer.appendChild(item);
      });

      recentContainer.querySelectorAll('.recent-link').forEach(a=>{
        a.addEventListener('click', (e)=>{
          e.preventDefault();
          const id = a.getAttribute('data-id');
          const target = allPosts.find(p=>String(p.id)===String(id));
          const targetSlug = slugify((target && (target.title || target.slug)) || 'post');
          renderPost(id);
          history.pushState({id, slug: targetSlug}, '', '?slug=' + encodeURIComponent(targetSlug) + '&id=' + encodeURIComponent(id));
          window.scrollTo({top:0,behavior:'smooth'});
        });
      });
    } else {
      recentContainer.innerHTML = `<p class="text-muted">No recent posts available.</p>`;
    }

    document.getElementById('backToList').addEventListener('click', (e)=>{ e.preventDefault(); window.location.href='post.html'; });

    if(pushState) history.replaceState({id: post.id, slug}, '', '?slug=' + encodeURIComponent(slug) + '&id=' + encodeURIComponent(post.id));
  }

  // initial render
  renderPost(postId);

  // handle browser navigation
  window.addEventListener('popstate', (ev)=>{ if(ev.state && ev.state.id) renderPost(ev.state.id, false); });

})
.catch(err=>{ console.error(err); document.getElementById('error').innerText='Error loading post.'; });
</script>

<!-- ===== Footer Section ===== -->
<footer class="footer">
  <div class="container footer-container">
    <div class="footer-top">
      <div class="footer-brand">
        <a href="index.html" class="brand">UNITEX HUB</a>
        <p>Empowering Students to Prepare, Practice, and Excel.</p>
      </div>
      <div class="footer-links">
        <div class="footer-column">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="unitex.hub.about.html">About Us</a></li>
            <li><a href="unitex.hub.blog.html">Blog</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Support</h4>
          <ul>
            <li><a href="unitex.hub.help.html">Help Center</a></li>
            <li><a href="unitex.hub.faq.html">FAQs</a></li>
            <li><a href="unitex.hub,terms.html">Terms & Privacy</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Follow Us</h4>
          <ul class="social-links">
            <li><a href="https://web.facebook.com/people/Unitex-Hub-Learn-Smarter/61582938541876/" target="_blank">Facebook</a></li>
            <li><a href="https://x.com/Unitexhub2025?s=21" target="_blank">Twitter</a></li>
            <li><a href="https://www.instagram.com/unitexhub2025?igsh=MXFuZHBzOWJtcm5jdw%3D%3D&utm_source=qr" target="_blank">Instagram</a></li>
            <li><a href="#" target="_blank">LinkedIn</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; <?= date('Y') ?> UNITEX HUB. All Rights Reserved.</p>
    </div>
  </div>
</footer>

<!-- ===== Footer CSS ===== -->
<style>
.footer {
  background-color: var(--color-dark-400);
  color: var(--color-gray-100);
  padding: 4rem 0 2rem;
  font-size: 0.9rem;
}
.footer a {
  color: var(--color-gray-100);
  text-decoration: none;
  transition: color 0.3s ease;
}
.footer a:hover {
  color: var(--color-blue-300);
}
.footer-container {
  max-width: 75rem;
  margin: 0 auto;
  padding: 0 1.5rem;
}
.footer-top {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 2rem;
  margin-bottom: 2rem;
}
.footer-brand {
  flex: 1 1 20rem;
}
.footer-brand p {
  margin-top: 0.5rem;
  line-height: 1.5;
}
.footer-links {
  display: flex;
  flex: 2 1 40rem;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 2rem;
}
.footer-column h4 {
  font-weight: 600;
  margin-bottom: 0.75rem;
  color: var(--color-blue-300);
}
.footer-column ul {
  list-style: none;
  padding: 0;
}
.footer-column ul li {
  margin-bottom: 0.5rem;
}
.social-links li {
  display: inline-block;
  margin-right: 0.5rem;
}
.footer-bottom {
  text-align: center;
  border-top: 1px solid rgba(255,255,255,0.1);
  padding-top: 1rem;
}
@media (max-width: 768px) {
  .footer-top {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
  .footer-links {
    flex-direction: column;
    gap: 1.5rem;
  }
  .social-links li {
    display: inline-block;
    margin-right: 1rem;
  }
}
</style>


</body>
</html>
